<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        (function(){

            // 1. 함수를 왜 만들까? ////////////////////////////////////////
            // - 반복되는 코드들은 함수로 만들어두고 쓰는 것이 효율적
            // ex) 세 수를 더해서 제곱하는 함수를 설정
            const add = function(a, b, c)
            {
                return Math.pow(a + b + c, 2);
            }

            // - 코드의 복잡도를 줄이기 위해서
            // ex) real apple pro에서 calcValue로 opacity는 
            // 각각 값만 넣어주면 return될 수 있도록 함수를 만들어둔 것
            // 코드가 간단해지는 것이 목적이 아닌 생각의 복잡도를 줄여주는 것
            // 즉 코드 인식에 복잡도를 줄여주는 것
            // calcValue를 만듦으로서 저 함수에 값을 넣으면 opacity가 나온다는 걸 쉽게 인식

            // - 가독성을 증가시킴 (1line-function)
            // 함수 이름을 통해 가독성을 증가시킴
            // 어느정도 위와 같은 맥락..

            
            // 2. 함수는 어떻게 만들어야 하나? /////////////////////////////
            // 함수의 호출부를 어떻게 만들까 (리턴값, 파라미터, 이름)

            // 함수의 구현부는 어떻게 만들까 (알고리즘)

            // ex) 두 수를 더해서 그 값을 제곱하는 함수
            // 함수의 기본틀
            const AddnSquare = function (val1, val2)
            {
                // 리턴값을 담을 변수 초기화
                let result = 0;

                // 결과 리턴
                return result;

            }

            // ex) 무작위 문자열을 받아서 문자열 속 숫자의 개수를 리턴하는 함수
            // 완성해보기 ㅡㅡ
            const getNumCount = function (string)
            {
                let count = 0;
                let numCount = 0;
                let stringArr = [...string];
                // console.log(stringArr);

                for (i = 0; i < stringArr.length; i++)
                {
                    if (typeof(stringArr[i]) === 'number')
                    {
                        count++;
                    
                    numCount = count;
                }
                return numCount;
                } 
            }

            // let word = "sjhj3fjhajd124";
            console.log(getNumCount("sjhj3fjhajd124"));

            // ex) 문자열에서 특정문자열 존재여부 확인하는 함수
            // findString
            const isExist = function (src,tgt)
            {
                let isTrue = false;
                if (src.indexOf(tgt) === -1)
                {
                    return isTrue;
                }
                else 
                {
                    isTrue = true;
                }
                return isTrue;
            }
            
            console.log(isExist("ht//www", "http"));

            // ------------------------------------------------------

            // JS에서 함수는 "함수 객체" 라고 이해할 것
            // 즉, 함수객체는 참조값이 있다는 의미이고 참조값을 통해 함수를 실행
            // 함수가 heap에 생성되고 그 함수에 접근할 수 있는 참조값이 생김 

            // 함수객체를 또 다른 말로 First-Class Function(일급함수)라고 함

            (function(a){
                console.log("hi");
            })();

            const f = function(a){console.log("hello");}
            f();

            // 함수도 참조값이기 때문에 다른 변수에 대입할 수 있음
            let hello = f();

            // 또한 참조값이기 때문에 다른 함수의 파라미터로도 사용 가능함
            // 참조값을 파라미터로 넘김
            const func = function(callback)
            {
                callback();
            }
            func(f); // callback = f 가 되어 실행됨

            // 참조값을 리턴도 가능함
            const ffff = function()
            {
                // let a = [1, 2, 3];
                // let b = function(){
                return function(){
                    console.log("함수");
                };

                // 배열의 참조값을 리턴함
                // return a;
                // 함수의 참조값을 리턴함
                // return b;
            }

            // console.log(ffff());

            // 함수 안의 함수의 참조값을 리턴해서 실행
            ffff()();

            // 일급 함수

            // example 1)
            function sayHello(){
                return "Hello, ";
            }
            function greeting(helloMessage, name) {
                console.log(helloMessage() + name);
            }
            // 'sayHello'를 'greeting' 함수에 파라미터로 전달
            greeting(sayHello, "javascript!")

            // example 2) 함수가 함수를 반환하는 예제 (변수)
            const sayHello2 = function () {
                return function () {
                    console.log ("Hello!");
                }
            }
            const myFunc = sayHello2();
            myFunc();

            // example 3) 함수가 함수를 반환하는 예제 (직접 호출)
            function sayHello3 () {
                return function() {
                    console.log("Hello!");
                }
            }
            sayHello3()();

        })();

    </script>
</body>
</html>