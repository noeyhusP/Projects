<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <ul>

    </ul>
    <button>insert li</button>
    <script>
        (function(){
        // 1. 기존 오브젝트를 가지고 온다.

        const $ul = document.querySelector("ul");
        const $btn = document.querySelector("button");

        // 2. 추가할 오브젝트를 만들고 설정한다.
        const $fruit1 = document.createElement("li");
        const $fruit2 = document.createElement("li");
        const $fruit3 = document.createElement("li");

        $fruit1.textContent = "딸기";
        $fruit2.textContent = "청포도";
        $fruit3.textContent = "오렌지";

        // 3. 버튼을 누르면 오브젝트 추가
        // 주의 : 버튼 누른 다음에 다시 추가되지 않도록 하기

        // 방법 1. if else 문
        // let done = false;
        // $btn.addEventListener("click",function(){

        //     if (done === true)
        //     {
        //         console.log("returned");
        //         return;
        //     }
        //     $ul.appendChild($fruit1);
        //     $ul.appendChild($fruit2);
        //     $ul.appendChild($fruit3);

        //     done = true;
        //     });

        // 방법 2. removeEventListener 사용
        const callbackInsert = function()
        {
            console.log("insert!")
            $ul.appendChild($fruit1);
            $ul.appendChild($fruit2);
            $ul.appendChild($fruit3);

            $btn.removeEventListener("click",callbackInsert)
        }
        $btn.addEventListener("click",callbackInsert)

        
        })();




    </script>
</body>
</html>